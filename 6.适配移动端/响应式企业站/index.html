<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
    <!-- Bootstrap 的 CSS 文件 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="./header.css">
    <link rel="stylesheet" href="./footer.css">
    <link rel="stylesheet" href="./index.css">
</head>

<body>
    <div class="index">
        <header>
            <div class="container">
                <div class="row">
                    <div class="col-md-8  col-xs-11">
                        <img src="./assets/logo.jpg" alt="" class="logo">
                        <div class="name">星美国际影城</div>
                    </div>
                    <div class="col-md-4  hidden-sm hidden-xs">
                        <ul class="nav nav-tabs">
                            <li role="presentation" class="active"><a href="#">首页</a></li>
                            <li role="presentation"><a href="#">新闻</a></li>
                            <li role="presentation"><a href="#">关于我们</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-1  hidden-lg hidden-md">
                        <div class="dropdown">
                            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                <span class="glyphicon glyphicon-align-left" aria-hidden="true"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
                                <li><a href="#">首页</a></li>
                                <li><a href="#">新闻</a></li>
                                <li><a href="#">关于我们</a></li>
                                <!-- <li role="separator" class="divider"></li>
                              <li><a href="#">Separated link</a></li> -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="banner">
            <div class="swiper-wrapper">
                <div class="swiper-slide"><img src="./assets/bannner1.jpg" alt=""></div>
                <div class="swiper-slide"><img src="./assets/banner2.jpg" alt=""></div>
                <div class="swiper-slide"><img src="./assets/banner3.jpg" alt="">
                </div>
            </div>
        </div>
        <div class="container">
            <div class="title">
                最新上映
            </div>
            <div class="row recent-movie">
                <div class="col-xs-12 movie-item">
                    <div class="item-intro">
                        <div class="movie-name"></div>
                        <p>
                        </p>
                    </div>
                    <div class="item-img">
                        <img src="" alt="">
                    </div>
                </div>
                <div class="col-xs-12 movie-item">
                    <div class="item-img">
                        <img src="" alt="">
                    </div>
                      <div class="item-intro">
                        <div class="movie-name"></div>
                        <p>
                        </p>
                    </div>
                </div>
                <div class="col-xs-12 movie-item">
                    <div class="item-intro">
                        <div class="movie-name"></div>
                        <p>
                        </p>
                    </div>
                    <div class="item-img">
                        <img src="" alt="">
                    </div>
                </div>

            </div>
            <div class="title">
                新闻动态    
            </div>
            <div class="row news">
                <div class="col-xs-6 col-md-3 news-item">
                    <div class="item-img">
                        <img src="./assets/bannner1.jpg" alt="">
                    </div>
                    <div class="intro">
                        这是一段简短的介绍的话
                    </div>
                    <hr>
                    <div class="main">
                        这是对详细的介绍
                    </div>
                </div>
                <div class="col-xs-6 col-md-3 news-item">
                    <div class="item-img">
                        <img src="./assets/bannner1.jpg" alt="">
                    </div>
                    <div class="intro">
                        这是一段简短的介绍的话
                    </div>
                    <hr>
                    <div class="main">
                        这是对详细的介绍
                    </div>
                </div>
                <div class="col-xs-6 col-md-3 news-item">
                    <div class="item-img">
                        <img src="./assets/bannner1.jpg" alt="">
                    </div>
                    <div class="intro">
                        这是一段简短的介绍的话
                    </div>
                    <hr>
                    <div class="main">
                        这是对详细的介绍
                    </div>
                </div>
                <div class="col-xs-6 col-md-3 news-item">
                    <div class="item-img">
                        <img src="./assets/bannner1.jpg" alt="">
                    </div>
                    <div class="intro">
                        这是一段简短的介绍的话
                    </div>
                    <hr>
                    <div class="main">
                        这是对详细的介绍
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <div class="information">
                <div class="info-item">
                    <img src="./assets/location.png" alt="" srcset="">
                    <div class="description">
                        成都市武侯区
                    </div>
                </div>
                <div class="info-item">
                    <img src="./assets/emial.png" alt="" srcset="">
                    <div class="description">
                        email@admain.com.cn
                    </div>
                </div>
                <div class="info-item">
                    <img src="./assets/telephone.png" alt="" srcset="">
                    <div class="description">
                        123-482-2684
                    </div>
                </div>
                <div class="info-item qrCode">
                    <img src="./assets/mmqrcode1627285639457.png" alt="" srcset="">
                    <div class="description">
                        扫一扫添加微信
                    </div>
                </div>
            </div>

            <div class="copyright">
                版权所有@星美国际影城
            </div>
        </footer>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    //初始化banner
    var mySwiper = new Swiper('.banner')

    let movieDatas, newDatas;
    let movieItems = document.querySelectorAll(".movie-item");
    let newsItems = document.querySelectorAll('.news .news-item');
    console.log(newsItems);

    //最新上映的电影介绍
    const baseUrl = 'http://mock-api.com/vKVrqEK8.mock/'
    axios.get(`${baseUrl}getIndexData`).then(
        (res) => {
            movieDatas = res.data.result;
            movieItems.forEach((item, index) => {
                let Img = item.querySelector('.item-img img')
                let movieName = item.querySelector('.item-intro .movie-name')
                let p = item.querySelector('.item-intro p')
                let { descriptiopn, title, path } = movieDatas[index]
                p.innerHTML = descriptiopn
                Img.src = path;
                movieName.innerHTML = title
            })
        }
    ).catch((error) => {
        console.log(error);
    })

    // 通过网易新闻接口拿到数据
    axios.post("https://api.apiopen.top/getWangYiNews").then(
        (res) => {
            console.log(res.data.result);
            newDatas = res.data.result
            newsItems.forEach((item, index) => {
                let Img = item.querySelector('.item-img img')
                let intro = item.querySelector('.intro')
                let main = item.querySelector('.main')
                Img.src = newDatas[index].image
                intro.innerHTML = newDatas[index].title
                main.innerHTML = newDatas[index].title.repeat(3)
                console.log(Img, intro, main);
            })
        }
    ).catch((error) => {
        console.log(error);
    })

    //header 的交互逻辑
    let presentations = document.querySelectorAll('.nav-tabs li')
    presentations.forEach((item, index) => {
        item.addEventListener("click", (e) => {
            presentations.forEach(i => i.className = '')
            item.className = "active"
        })
    })


</script>

</html>